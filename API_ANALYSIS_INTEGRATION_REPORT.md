# –û—Ç—á–µ—Ç –æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏
–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–µ—Ä–µ–Ω–æ—Å –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏—á–∏ –∞–Ω–∞–ª–∏–∑–∞ API –∏–∑ `SecutityOrchestrator` –≤ `security-orchestrator-microservices`. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ GUI –≤–≤–æ–¥–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ Swagger, –∞ –±—ç–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI (—á–µ—Ä–µ–∑ OpenRouter) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ GUI.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **API Analysis Service** (–ø–æ—Ä—Ç 8001): –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏–∑–∞ API
- **OpenAPIParser**: –ü–∞—Ä—Å–µ—Ä OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- **OpenRouterClient**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenRouter API –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞  
- **SwaggerAnalysisController**: REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- **FastAPI –º–∞—Ä—à—Ä—É—Ç—ã**: HTTP endpoints –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
- **Flutter –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–ø–æ—Ä—Ç 8080): –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **ApiAnalysisCard**: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **ApiAnalysisProvider**: State management –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **ApiAnalysisRemoteDataSource**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API

### Infrastructure
- **Vulnerable API Service** (–ø–æ—Ä—Ç 8003): –¢–µ—Å—Ç–æ–≤—ã–π API –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **Docker Compose**: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

## –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. Backend API Analysis Service
```bash
# Health Check
curl http://localhost:8001/api/v1/swagger-analysis/health
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status": "healthy", "service": "swagger-analysis-service"}
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–∞—Ä—Å–∏–Ω–≥ OpenAPI 3.x —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π (JSON/YAML)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ë–∞–∑–æ–≤–∞—è AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—á–µ—Ä–µ–∑ OpenRouter)

#### 2. OpenAPI Parser
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
python3 test_parser.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 5 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö API
- –ê–Ω–∞–ª–∏–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ API (–º–µ—Ç–æ–¥—ã, —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, —Å—Ö–µ–º—ã)

#### 3. Flutter Frontend Integration
```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
flutter build web
python3 -m http.server 8080 --bind 0.0.0.0
# –î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `ApiAnalysisEntity`: Domain –º–æ–¥–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `ApiAnalysisRepository`: Repository pattern —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è  
- `ApiAnalysisCard`: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `ApiAnalysisProvider`: State management

#### 4. –¢–µ—Å—Ç–æ–≤—ã–π Vulnerable API
```bash
# Health Check
curl http://localhost:8003/health
# Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8003/docs
```

**–°–æ–¥–µ—Ä–∂–∏—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏:**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –û—Å–Ω–æ–≤–Ω–æ–π workflow
```bash
curl -X POST "http://localhost:8001/api/v1/swagger-analysis/analyze" \
  -H "Content-Type: application/json" \
  -d '{"swagger_url": "http://localhost:8003/openapi.json", "timeout": 30, "enable_ai_analysis": false}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
API Title: Vulnerable API Service
Endpoints: 5
Security Score: 70
Medium Issues: 6
AI Available: false
```

#### Health Checks –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **Vulnerable API Service**: ‚úÖ "healthy"
- **API Analysis Service**: ‚úÖ "healthy" 
- **Flutter Web App**: ‚úÖ –¥–æ—Å—Ç—É–ø–µ–Ω

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π URL**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `success: true` –≤–º–µ—Å—Ç–æ `false` - —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ù–µ-JSON –æ—Ç–≤–µ—Ç**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è (HTTP 500)
- **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è (HTTP 500)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Clean Architecture —Å–æ–±–ª—é–¥–µ–Ω–∏–µ
1. **Domain Layer**: –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ –∏ use cases
2. **Data Layer**: Repository implementations, external API integration
3. **Presentation Layer**: UI components, state management

### API Endpoints
```
POST /api/v1/swagger-analysis/analyze     # –û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑
GET  /api/v1/swagger-analysis/health      # Health check
POST /api/v1/swagger-analysis/batch-analyze # –ü–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
GET  /api/v1/swagger-analysis/formats     # –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```

### Security Features
- –î–µ—Ç–µ–∫—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–¥–º–∏–Ω—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –±–µ–∑ –∑–∞—â–∏—Ç—ã
- –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **API Analysis Service**: http://localhost:8001/api/docs
- **Vulnerable API Service**: http://localhost:8003/docs

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –£—è–∑–≤–∏–º—ã–π API
cd services/vulnerable-api-service && python3 main.py

# API Analysis Service  
cd services/api-analysis-service && python3 main.py

# Flutter –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd flutter-app && flutter build web && cd build/web && python3 -m http.server 8080
```

### 2. –ê–Ω–∞–ª–∏–∑ API
```bash
# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ API
curl -X POST "http://localhost:8001/api/v1/swagger-analysis/analyze" \
  -H "Content-Type: application/json" \
  -d '{"swagger_url": "YOUR_API_URL/openapi.json"}'
```

### 3. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080 –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### üîß –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é `success` –ø–æ–ª—è –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö URL
2. **YAML –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É YAML —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
3. **OpenRouter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ AI –∞–Ω–∞–ª–∏–∑–∞
4. **Batch –∞–Ω–∞–ª–∏–∑**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö API
5. **–ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–æ–≤

### üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤
2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ AI —Å–µ—Ä–≤–∏—Å–∞–º–∏
4. –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
5. Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ API

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç**

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü–∞—Ä—Å–∏–Ω–≥ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- –î–µ—Ç–µ–∫—Ü–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–±—ç–∫–µ–Ω–¥
- Clean Architecture —Å–æ–±–ª—é–¥–µ–Ω–∏–µ
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ